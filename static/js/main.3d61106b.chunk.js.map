{"version":3,"sources":["components/AddNewItem/AddNewItemStyle.ts","components/NewItemForm/NewItemFormStyle.ts","state/AppState/AppStateTypes.ts","components/NewItemForm/NewItemForm.tsx","components/AddNewItem/AddNewItem.tsx","hooks/useItemDrag.ts","state/AppState/AppStateData.ts","helpers/swapList.ts","helpers/swapTask.ts","state/AppState/AppStateReducer.ts","state/AppState/AppState.tsx","state/AppState/AppStateActions.ts","styles/DragStyles.ts","components/Card/CardStyle.ts","components/Card/Card.tsx","components/Column/ColumnStyle.ts","components/Column/Column.tsx","components/CustomDragLayer/getDragStyle.ts","components/CustomDragLayer/CustomDragLayer.tsx","styles/AppStyle.ts","App.tsx","styles.ts","index.tsx"],"names":["AddItemButton","styled","button","theme","size_border_radius","dark","color_font","AppActionsTypes","NewItemFormContainer","div","NewItemButton","color_button","NewItemInput","input","NewItemForm","onAdd","useState","text","setText","autoFocus","value","onChange","e","target","onClick","AddNewItem","toggleButtonText","showForm","setShowForm","useItemDrag","item","useDrag","collect","monitor","isDragging","drag","preview","useEffect","getEmptyImage","captureDraggingState","appData","lists","id","tasks","listID","swapList","arr","move","fromIndex","findIndex","list","dragID","toIndex","hoverID","splicedItem","splice","swapTask","sourceColumn","targterColumn","fromColumn","toColumn","fromCardIndex","task","toCardIndex","initialState","appStateReducer","state","action","type","ADD_LIST","concat","uuid","payload","ADD_TASK","template","map","MOVE_LIST","sortedList","MOVE_TASK","AppStateContext","createContext","AppStateProvider","children","useReducer","dispatch","Provider","useAppState","useContext","moveTask","DragPreviewContaienr","isHidden","CardContainer","color_card_bg","Card","memo","uid","ref","useRef","useDrop","accept","drop","moveMap","ColumnContainer","color_column","ColumnTitle","Column","cards","hover","canDrop","addTask","getItemStyles","currentOffset","display","x","transform","position","top","y","left","zIndex","pointerEvents","CustomDragLayer","useDragLayer","getItem","getSourceClientOffset","style","AppContainer","color_background","App","title","addList","size_font","GlobalStyle","createGlobalStyle","ReactDOM","render","StrictMode","DndProvider","backend","HTML5Backend","document","getElementById"],"mappings":"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","file":"static/js/main.3d61106b.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\ninterface AddItemButtonProps {\n  dark?: boolean,\n}\n\nexport const AddItemButton = styled.button<AddItemButtonProps>`\n  background-color: #ffffff3d;\n  border: none;\n  border-radius: ${({ theme }) => theme.size_border_radius};\n  color: ${({ dark, theme }) => dark ? theme.color_font : \"#fff\"};\n  cursor: pointer;\n  max-width: 300px;\n  padding: 1rem 1.2rem;\n  text-align: left;\n  transition: background 0.85s ease-in;\n  min-width: ${({ dark }) => dark ? \"100%\" : \"284px\"};\n\n  &:hover {\n    background-color: #ffffff52;\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const NewItemFormContainer = styled.div`\n  align-items: flex-start;\n  display: flex;\n  flex-direction: column;\n  max-width: 300px;\n  width: 100%;\n`;\n\nexport const NewItemButton = styled.button`\n  background-color: ${({ theme }) => theme.color_button};\n  border: none;\n  border-radius: ${({ theme }) => theme.size_border_radius};\n  box-shadow: none;\n  color: #fff;\n  padding: .6rem 1.2rem;\n  text-align: center;\n`;\n\nexport const NewItemInput = styled.input`\n  border: none;\n  border-radius: ${({ theme }) => theme.size_border_radius};\n  box-shadow: #091e4240 0 1px 0 0;\n  margin-bottom: .7rem;\n  padding: .7rem 1.2rem;\n  width: 100%;\n`;\n","import { InferValueTypes } from \"../../types/state\";\nimport * as actions from \"./AppStateActions\";\n\nexport type ColumnDragItem = {\n  uid: string,\n  type: \"COLUMN\",\n  text: string,\n  cards: Task[],\n}\n\nexport type CardDragItem = {\n  uid: string,\n  type: \"CARD\",\n  text: string,\n  listID: string,\n}\n\nexport type DragItem = ColumnDragItem | CardDragItem;\n\nexport interface Task {\n  listID: string,\n  id: string,\n  text: string,\n}\n\nexport interface List {\n  id: string,\n  text: string,\n  tasks: Task[],\n}\n\nexport interface AppState {\n  lists: List[],\n}\n\nexport interface MoveListStatus {\n  dragID: string,\n  hoverID: string,\n}\n\nexport interface MoveTaskStatus {\n  dragID: string,\n  hoverID: string | 0,\n  sourceColumn: string,\n  targterColumn: string,\n}\n\nexport interface AppStateContextProps {\n  state: AppState,\n  dispatch: React.Dispatch<AppActions>,\n}\n\nexport enum AppActionsTypes {\n  ADD_LIST = \"app/ADD_LIST\",\n  ADD_TASK = \"app/ADD_TASK\",\n  MOVE_LIST = \"app/MOVE_LIST\",\n  MOVE_TASK = \"app/MOVE_TASK\",\n}\n\nexport type AppActions = ReturnType<InferValueTypes<typeof actions>>","import React, { useState } from \"react\";\nimport { NewItemButton, NewItemFormContainer, NewItemInput } from \"./NewItemFormStyle\";\n\ninterface NewItemFormProps {\n  onAdd(test: string): void;\n}\n\nconst NewItemForm: React.FC<NewItemFormProps> = ({ onAdd }) => {\n  const [text, setText] = useState(\"\");\n\n  return (\n    <NewItemFormContainer>\n      <NewItemInput\n        autoFocus\n        value={text}\n        onChange={e => setText(e.target.value)}\n      />\n      <NewItemButton onClick={() => onAdd(text)}>\n        Create\n      </NewItemButton>\n    </NewItemFormContainer>\n  );\n};\n\nexport { NewItemForm };\n","import React, { useState } from \"react\";\nimport { AddItemButton } from \"./AddNewItemStyle\";\nimport { NewItemForm } from \"../NewItemForm/NewItemForm\";\n\ninterface AddNewItemProps {\n  onAdd(text: string): void,\n  toggleButtonText: string,\n  dark?: boolean,\n}\n\nconst AddNewItem: React.FC<AddNewItemProps> = ({ onAdd, toggleButtonText, dark }) => {\n  const [showForm, setShowForm] = useState(false);\n\n  const openForm = () => {\n    setShowForm(true);\n  };\n\n\n  if (showForm) {\n    return (\n      <NewItemForm\n      // Поменять это поведение с передачей функции \n        onAdd={(text: string) => {\n          onAdd(text);\n          setShowForm(false);\n        }}\n      />\n    );\n  }\n\n  return (\n    <AddItemButton dark={dark} onClick={openForm}>\n      {toggleButtonText}\n    </AddItemButton>\n  );\n};\n\nexport { AddNewItem };\n","import { useEffect } from \"react\";\nimport { DragElementWrapper, DragSourceOptions, useDrag } from \"react-dnd\";\nimport { getEmptyImage } from \"react-dnd-html5-backend\";\nimport { DragItem } from \"../state/AppState/AppStateTypes\";\n\ninterface useItemDragReturn {\n  isDragging: boolean;\n  drag: DragElementWrapper<DragSourceOptions>;\n}\n// TODO: Доделать\nexport const useItemDrag = (item: DragItem): useItemDragReturn => {\n  const [{ isDragging }, drag, preview] = useDrag({\n    item,\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  });\n\n  useEffect(() => {\n    preview(getEmptyImage(), { captureDraggingState: true });\n  }, [preview]);\n\n  return { isDragging, drag };\n};\n","import { AppState } from \"./AppStateTypes\";\n\nexport const appData: AppState = {\n  lists: [\n    {\n      id: \"FCOLUM1\",\n      text: \"To Do\",\n      tasks: [{ listID: \"FCOLUM1\", id: \"c0\", text: \"Generate app\" }],\n    },\n    {\n      id: \"SCOLUM222\",\n      text: \"In Progress\",\n      tasks: [{ listID: \"SCOLUM222\", id: \"c2\", text: \"Learn JavaScript\" }],\n    },\n    {\n      id: \"TCOLUM33333\",\n      text: \"Done\",\n      tasks: [{ listID: \"TCOLUM33333\", id: \"c3\", text: \"Begin to type\" }],\n    },\n  ],\n};\n","import { List, MoveListStatus } from \"../state/AppState/AppStateTypes\";\n\nexport const swapList = (arr: List[], move: MoveListStatus): List[] => {\n  const fromIndex = arr.findIndex((list) => list.id === move.dragID);\n  const toIndex = arr.findIndex((list) => list.id === move.hoverID);\n  const splicedItem = arr.splice(fromIndex, 1)[0];\n  arr.splice(toIndex, 0, splicedItem);\n  return arr;\n};","import { List, MoveTaskStatus } from \"../state/AppState/AppStateTypes\";\n\nexport const bob = \"32431\";\n\nexport const swapTask = (arr: List[], move: MoveTaskStatus): List[] => {\n  const { dragID, hoverID, sourceColumn, targterColumn } = move;\n  const fromColumn = arr.findIndex((list) => list.id === sourceColumn);\n  const toColumn = arr.findIndex((list) => list.id === targterColumn);\n  const fromCardIndex = arr[fromColumn].tasks.findIndex((task) => task.id === dragID);\n  const toCardIndex = hoverID ? arr[toColumn].tasks.findIndex((task) => task.id === hoverID) : 0;\n  arr[fromColumn].tasks[fromCardIndex].listID = targterColumn;\n  const item = arr[fromColumn].tasks.splice(fromCardIndex, 1)[0];\n  arr[toColumn].tasks.splice(toCardIndex, 0, item);\n  return arr;\n};\n","import { v4 as uuid } from \"uuid\";\nimport { swapList } from \"../../helpers/swapList\";\nimport { swapTask } from \"../../helpers/swapTask\";\nimport { AppActions, AppActionsTypes, AppState } from \"./AppStateTypes\";\n\nconst initialState: AppState = {\n  lists: [],\n};\n\nexport const appStateReducer = (state = initialState, action: AppActions): AppState => {\n  switch (action.type) {\n    case AppActionsTypes.ADD_LIST:\n      return {\n        ...state,\n        lists: state.lists.concat({ id: uuid(), text: action.payload, tasks: [] }),\n      };\n    case AppActionsTypes.ADD_TASK: {\n      // TODO: Убрать в отдельную функцию мб? Сликшом толстая операция в редюсере?\n      const template = {\n        ...state,\n        lists: state.lists.map((list) => {\n          if (list.id === action.payload.listID) {\n            return {\n              ...list,\n              tasks: [...list.tasks].concat({\n                id: uuid(),\n                listID: action.payload.listID,\n                text: action.payload.text,\n              }),\n            };\n          }\n          return list;\n        }),\n      };\n      return template;\n    }\n    case AppActionsTypes.MOVE_LIST: {\n      const sortedList = swapList(state.lists, action.payload);\n      return {\n        ...state,\n        lists: sortedList,\n      };\n    }\n    case AppActionsTypes.MOVE_TASK: {\n      const sortedList = swapTask(state.lists, action.payload);\n      return {\n        ...state,\n        lists: sortedList,\n      };\n    }\n    default:\n      return state;\n  }\n};\n","import { AppStateContextProps } from \"./AppStateTypes\";\nimport React, { createContext, useReducer, useContext } from \"react\";\nimport { appData } from \"./AppStateData\";\nimport { appStateReducer } from \"./AppStateReducer\";\n\nconst AppStateContext = createContext<AppStateContextProps>({} as AppStateContextProps);\n\nexport const AppStateProvider: React.FC = ({ children }) => {\n  const [state, dispatch] = useReducer(appStateReducer, appData);\n\n  return <AppStateContext.Provider value={{ state, dispatch }}>{children}</AppStateContext.Provider>;\n};\n\nexport const useAppState = (): AppStateContextProps => useContext(AppStateContext);\n","import { AppActionsTypes, MoveListStatus, MoveTaskStatus } from \"./AppStateTypes\";\n\nexport const addTask = (text: string, listID: string) => ({\n  type: AppActionsTypes.ADD_TASK,\n  payload: { text, listID },\n} as const);\n\nexport const addList = (title: string) => ({\n  type: AppActionsTypes.ADD_LIST,\n  payload: title,\n} as const);\n\nexport const moveList = (move: MoveListStatus) => ({\n  type: AppActionsTypes.MOVE_LIST,\n  payload: move,\n} as const);\n\nexport const moveTask = (move: MoveTaskStatus) => ({\n  type: AppActionsTypes.MOVE_TASK,\n  payload: move,\n} as const);","import styled from \"styled-components\";\n\ninterface DragPreviewContainerProps {\n  isHidden?: boolean,\n}\n\nexport const DragPreviewContaienr = styled.div<DragPreviewContainerProps>`\n  /* opacity: ${({ isHidden }) => isHidden ? 0.3 : 1}; */\n  filter: ${({ isHidden }) => isHidden ? \"contrast(0%);\" : \"contrast(100%);\"};\n`;","import styled from \"styled-components\";\nimport { DragPreviewContaienr } from \"../../styles/DragStyles\";\n\nexport const CardContainer = styled(DragPreviewContaienr)`\n  background-color: ${({ theme }) => theme.color_card_bg};\n  border-radius: ${({ theme }) => theme.size_border_radius};\n  box-shadow: #091e4240 0 1px 0 0;\n  cursor: pointer;\n  margin-bottom: 0.5rem;\n  width: 284px;\n  padding: 0.7rem 1.2rem;\n`;\n","import React, { memo, useRef } from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport { useItemDrag } from \"../../hooks/useItemDrag\";\nimport { useAppState } from \"../../state/AppState/AppState\";\nimport { moveTask } from \"../../state/AppState/AppStateActions\";\nimport { CardDragItem, MoveTaskStatus } from \"../../state/AppState/AppStateTypes\";\nimport { CardContainer } from \"./CardStyle\";\n\ninterface CardProps {\n  text: string;\n  uid: string,\n  listID: string,\n}\n\nconst Card: React.FC<CardProps> = memo(({ text, uid, listID }) => {\n  const { dispatch } = useAppState();\n  const { isDragging, drag } = useItemDrag({ type: \"CARD\", uid, listID, text});\n  const ref = useRef(null);\n  const [, drop] = useDrop({\n    accept: \"CARD\",\n    drop(item: CardDragItem) {\n      if (item.uid === uid) return;\n      \n      const moveMap: MoveTaskStatus = {\n        dragID: item.uid,\n        hoverID: uid,\n        sourceColumn: item.listID,\n        targterColumn: listID,\n      };\n\n      dispatch(moveTask(moveMap));\n    },\n\n\n  });\n\n  drag(drop(ref));\n\n  return <CardContainer ref={ref} isHidden={isDragging}>{text}</CardContainer>;\n});\n\n\nexport { Card };\n","import styled from \"styled-components\";\nimport { DragPreviewContaienr } from \"../../styles/DragStyles\";\n\n\n//TODO: Заменить фиксированные значения\nexport const ColumnContainer = styled(DragPreviewContaienr)`\n  background-color: ${({ theme }) => theme.color_column};\n  border-radius: ${({ theme }) => theme.size_border_radius};\n  flex-grow: 0;\n  margin-right: 20px;\n  min-height: 40px;\n  padding: 8px;\n  min-width: 300px;\n`;\n\nexport const ColumnTitle = styled.div`\n  font-weight: bold;\n  padding: 6px 16px 12px;\n`;","import React, { useRef } from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport { useItemDrag } from \"../../hooks/useItemDrag\";\nimport { useAppState } from \"../../state/AppState/AppState\";\nimport { addTask, moveList, moveTask } from \"../../state/AppState/AppStateActions\";\nimport { DragItem, MoveTaskStatus, Task } from \"../../state/AppState/AppStateTypes\";\nimport { AddNewItem } from \"../AddNewItem/AddNewItem\";\nimport { Card } from \"../Card/Card\";\nimport { ColumnContainer, ColumnTitle } from \"./ColumnStyle\";\n\ninterface ColumnProps {\n  text: string;\n  uid: string;\n  cards: Task[];\n}\n\nconst Column: React.FC<ColumnProps> = ({ text, cards, uid }) => {\n  const { dispatch } = useAppState();\n  const ref = useRef<HTMLDivElement>(null);\n  // TODO: Типизировать тип DND\n  const { isDragging, drag } = useItemDrag({ type: \"COLUMN\", uid, text, cards });\n  const [, drop] = useDrop({\n    accept: [\"COLUMN\", \"CARD\"],\n    hover(item: DragItem) {\n      if (item.type === \"COLUMN\") {\n        const dragID = item.uid;\n        const hoverID = uid;\n        if (dragID === hoverID) return;\n        dispatch(moveList({ dragID, hoverID }));\n      }\n    },\n\n    drop(item: DragItem, monitor) {\n      if (!monitor.canDrop()) return;\n      if (item.type === \"CARD\") {\n        if (uid === item.uid) return;\n        const moveMap: MoveTaskStatus = {\n          dragID: item.uid,\n          hoverID: 0,\n          sourceColumn: item.listID,\n          targterColumn: uid,\n        };\n\n        dispatch(moveTask(moveMap));\n      }\n    },\n  });\n\n  const addCard = (text: string) => {\n    dispatch(addTask(text, uid));\n  };\n\n  drag(drop(ref));\n\n  return (\n    <ColumnContainer ref={ref} isHidden={isDragging}>\n      <ColumnTitle>{text}</ColumnTitle>\n      {cards.map((task) => (\n        <Card key={task.id} text={task.text} uid={task.id} listID={task.listID} />\n      ))}\n      <AddNewItem toggleButtonText=\"+ Add another task\" onAdd={addCard} dark />\n    </ColumnContainer>\n  );\n};\n\nexport { Column };\n","import { XYCoord } from \"react-dnd\";\n\nexport const getItemStyles = (currentOffset: XYCoord | null): React.CSSProperties => {\n  if(!currentOffset) {\n    return {\n      display: \"none\",\n    };\n  }\n\n  const { x, y } = currentOffset;\n\n  return {\n    transform: \"rotate(5deg)\",\n    position: \"fixed\",\n    top: y,\n    left: x,\n    zIndex: 1000,\n    pointerEvents: \"none\",\n  };\n};","import React from \"react\";\nimport { useDragLayer } from \"react-dnd\";\nimport { Card } from \"../Card/Card\";\nimport { Column } from \"../Column/Column\";\nimport { getItemStyles } from \"./getDragStyle\";\n\nconst CustomDragLayer: React.FC = () => {\n  const { item, isDragging, currentOffset } = useDragLayer((monitor) => ({\n    item: monitor.getItem(),\n    currentOffset: monitor.getSourceClientOffset(),\n    isDragging: monitor.isDragging(),\n  }));\n\n  if (!isDragging) return null;\n\n  if (item.type === \"COLUMN\") {\n    return (\n      <div style={getItemStyles(currentOffset)}>\n        <Column cards={item.cards} text={item.text} uid={item.uid} />\n      </div>\n    );\n  }\n\n  if (item.type === \"CARD\") {\n    return (\n      <div style={getItemStyles(currentOffset)}>\n        <Card text={item.text} uid={item.uid} listID={item.listID}/>\n      </div>\n    );\n  }\n\n  return null;\n};\n\nexport { CustomDragLayer };\n","import styled from \"styled-components\";\n\nexport const AppContainer = styled.div`\n  align-items: flex-start;\n  background-color: ${({ theme }) => theme.color_background};\n  display: flex;\n  overflow-x: auto;\n  height: 100%;\n  padding: 2rem;\n`;\n","import React from \"react\";\nimport { AddNewItem } from \"./components/AddNewItem/AddNewItem\";\nimport { Column } from \"./components/Column/Column\";\nimport { CustomDragLayer } from \"./components/CustomDragLayer/CustomDragLayer\";\nimport { useAppState } from \"./state/AppState/AppState\";\nimport { addList } from \"./state/AppState/AppStateActions\";\nimport { AppContainer } from \"./styles/AppStyle\";\n\nconst App: React.FC = () => {\n  const { state, dispatch } = useAppState();\n\n  const addColumn = (title: string) => {\n    dispatch(addList(title));\n  };\n\n  return (\n    <AppContainer>\n      <CustomDragLayer />\n      {state.lists.map((list) => (\n        <Column key={list.id} text={list.text} cards={list.tasks} uid={list.id} />\n      ))}\n      <AddNewItem onAdd={addColumn} toggleButtonText=\"+ Add another list\" />\n    </AppContainer>\n  );\n};\n\nexport { App };\n","import { createGlobalStyle, DefaultTheme } from \"styled-components\";\n\nexport const theme: DefaultTheme = {\n  size_font: \"1.6rem\",\n  size_border_radius: \"3px\",\n\n  color_background: \"#3179ba\",\n  color_column: \"#ebecf0\",\n  color_font: \"#000000\",\n  color_card_bg: \"#ffffff\",\n  color_button: \"#5aac44\",\n};\n\nexport const GlobalStyle = createGlobalStyle`\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n  }\n\n  html {\n    font-size: 62.5%\n  }\n\n  html, body, #root {\n    height: 100%;\n  }\n\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-size: ${theme.size_font};\n    color: ${theme.color_font}\n  }\n\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n      monospace;\n  }\n`;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { App } from \"./App\";\nimport { ThemeProvider } from \"styled-components\";\nimport { GlobalStyle, theme } from \"./styles\";\nimport { AppStateProvider } from \"./state/AppState/AppState\";\nimport { DndProvider } from \"react-dnd\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <DndProvider backend={HTML5Backend}>\n        <AppStateProvider>\n          <App />\n          <GlobalStyle />\n        </AppStateProvider>\n      </DndProvider>\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n);\n"],"sourceRoot":""}